apiVersion: 1.0.0
metadata:
  generateName: devfiles-
projects:
  - name: devfiles
    source:
      type: git
      location: https://github.com/mtsmfm/devfiles
components:
  - id: esbenp/prettier-vscode/latest
    type: chePlugin
  - mountSources: true
    memoryLimit: 4Gi
    type: dockerimage
    alias: ruby
    image: "ghcr.io/mtsmfm/devfiles/ruby:3.0"
  - id: redhat/vscode-yaml/latest
    type: chePlugin
  - mountSources: true
    memoryLimit: 4Gi
    type: dockerimage
    alias: docker-client
    image: "ghcr.io/mtsmfm/devfiles/docker"
    env:
      - value: localhost
        name: DOCKER_HOST
  - referenceContent: |
      kind: List
      items:
        - apiVersion: v1
          kind: Pod
          metadata:
            name: docker
          spec:
            containers:
              - name: dockerd
                image: docker:dind
                securityContext:
                  runAsUser: 0
                  privileged: true
                env:
                  - name: DOCKER_TLS_CERTDIR
                    value: ""
    type: kubernetes
